GAMS 25.1.3  r4e34d435fbd Released Oct 30, 2018 WEX-WEI x86 64bit/MS Windows - 03/14/19 16:45:11 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      ok investment levels generation and transmission
      ok changes in welfare
      - electricity prices
      - generator profits
   7   
   8  ***--------------------------------------------------------------------------***
   9  ***                             GENERAL OPTIONS                              ***
  10  ***--------------------------------------------------------------------------***
  11   
  12  option  optcr = 0.0001
  13          limrow = 0,
  14  *equations listed per block */
  15          limcol = 0
  16  *variables listed per block */
  17          solprint = off,
  18  *solver's solution output printed */
  19          sysout = off,
  20  *define standard solver
  21          QCP = Gurobi,
  22          LP = Gurobi
  23  ;
  24   
  25  ***--------------------------------------------------------------------------***
  26  ***            OPTIONS FOR DIFFERENT SCENARIOS & LINE INVESTMENT             ***
  27  ***--------------------------------------------------------------------------***
  28   
  29  *** Consideration of RES (on, off)
  31   
  32  Sets
  33           L "indices for power lines"     / 1 * 10 /
  34           LineInvest                      / 1 * 10 /
  35           Loop_Probability                / 1 * 11 /
  36           results                         / "CS", "PS", "CR", "ALL"
  37                                             "RD_G", "RD_B","RD_L", "SP_G", "SP_P"
  38                                             "C_L", "C_B" , "C_G",
  39                                             "p_sp", "p_rd", "p_cr" /  ;
  40   
  41  ***--------------------------------------------------------------------------***
  42  ***             LOAD DATA AND SETUP FOR LOOP WITH PROBABILITIES              ***
  43  ***--------------------------------------------------------------------------***
  44   
INCLUDE    C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
  46  *** General Sets ***
  47   
  48    Sets
  49    T    "indices for times"       / 1 *  400 /
  50    N    "indices for nodes"       / 1 *   2 /
  51    G    "indices for generators"  / 1 *   8 /
  52    D(N) "indices for consumers"   / 1 *   2 /
  53    Z    "indices for zones"       / 1 *   2 /
  54    B    "indices for backup"      / 1 *   2 /
  55    trans "indices for transmission cost scenarios" /low_trans, high_trans/
  56    S_co2 "indices for CO2 cost scenarios"    /low_co2, high_co2/
  57    S_dloc "indices for demand locational distribution scenarios"  /south, north/
  58    S_dlev    "indices for demand level scenarios"    /low_dlev, medium_dlev, high_dlev/
  59    S(trans,S_co2,S_dloc,S_dlev)    "indices for all scenarios"   /#trans.#S_co2.#S_dloc.#S_dlev/
  60    ;
  61    Alias (n,nn) ;
  62   
  63    Scalars
  64    M              bigM                                  / 10000    /
  65    epsilon        elacticity of demand                  / -0.10 /
  66    Year           Hours per year                        /  8760    /
  67    buFixInv       Annuity per 1 MW backup capacity      / 32000    /
  68    DSM            Load Shedding costs                   /  3000    /
  69  *DSM: do we use / need that?
  70    buVarInv       Variable cost per MWh for backup      /    79    /
  71    L_step         Capacity steps for lines              /     0.01 /
  72    ;
  73   
  74  *** Line Parameters ***
  75   
  76    Parameters
  77    lineIsNew(L)   "candidate line"
  78    lineGamma(L)   "susceptance"
  79    lineUB(L)      "thermal capacity"
  80    lineStart(L)   "start node"
  81    lineEnd(L)     "end node"
  82    lineFixInv(L, S_trans)  "line investment cost (candidate lines)"
****                        $120
**** LINE     37 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 120  Unknown identifier entered as set
  83    lineInter(L) "line is interzone link"
  84    L_cost(trans)   "Cost for 0.01 line capacity"           / 1 250, 2 350 /
****                                                              $170   $170
**** LINE     39 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 170  Domain violation for element
  85   
  86  *** Generator Parameters ***
  87   
  88    genIsRES(G)    "renewable generator"                   / 7 1, 8 1 /
  89    genAtNode(G)   "location (node)"                       / 1 1, 2 1, 3 1, 4 2, 5 2, 6 2, 7 1, 8 2 /;
  90    Table
  91    genVarInv(G,S_co2)   "variable cost"               1   2
****                                                       $170$170
**** LINE     46 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 170  Domain violation for element
  92                                                  1   35  51
  93                                                  2   43  50
  94                                                  3   68  79
  95                                                  4   38  54
  96                                                  5   43  50
  97                                                  6   68  79
  98    ;
  99   
 100    Parameters
 101    genFixInv(G)   "investment cost"                       / 1 93000, 2 58000, 3 32000, 4 93000, 5 58000, 6 32000, 7 78000, 8 93000 /
 102    buAtNode(B)    "location (node) of backup"             / 1 1, 2 2 /
 103    probability(S) "probability for scenario S"
****                $122
**** LINE     58 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 104    avail(T,G)     "availability of generators"
 105   
 106  *** Demand Parameters ***
 107    consAtNode(D)   "location (node)"                      / 1 1, 2 2 /;
 108    Table
 109    qPeak(D, S_dloc) "peak consumption at consumer D"         1   2
****                                                              $170$170
**** LINE     64 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 170  Domain violation for element
 110                                                          south   0.3 0.7
****                                                              $170,223  $225
**** LINE     65 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 170  Domain violation for element
**** 223  Overlapping row name
**** 225  Floating entry ignored
 111                                                          north   0.7 0.3
****                                                              $170,223  $225
**** LINE     66 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 170  Domain violation for element
**** 223  Overlapping row name
**** 225  Floating entry ignored
 112    ;
 113    Parameters
 114    consObjB(D,T,S_dlev,S_dloc)   "slope demand function"
 115    consObjA(D,T,S_dlev,S_dloc)   "intercept demand function"
 116    periodScale(T)  "occurence of scenarios"
 117    dRef(T, S_dlev)         "reference demand per season"
 118    pRef(T)         "reference price"
 119   
 120  *** Risk Aversion Parameters ***
 121    weight_sp     "weight assigned to the worst-case spot market outcome for risk averse market participants (0 bein the risk-neutral case and 1 being strictly robust)"   /0.4/
 122    weight_rd     "weight assigned to the worst-case redispacth outcome for risk averse market participants (0 bein the risk-neutral case and 1 being strictly robust)"    /0.4/
 123    percentile      "lower percentile of welfare function that is considered to be the worst case"                /0.2/
 124    ;
 125   
 126    lineIsNew(L)     = 1 ;
 127    lineGamma(L)     = 1 ;
 128    lineUB(L)        = ( L.Val - 1 ) * L_step ;
 129    lineStart(L)     = 1 ;
 130    lineEnd(L)       = 2 ;
 131    lineFixInv(L, S_trans)    = L_cost(S_trans) * L_step / 0.01 * ( L.Val - 1 ) ;
****                                              $171
**** LINE     86 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 171  Domain violation for set
 132    lineInter("2",L) = 1 ;
****                   $148
**** LINE     87 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 133   
 134   
 135    Table
 136    ConsInZone(D,S) "consumer in zone" 1     2
****                 $122
**** LINE     91 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 137                                   1   1     1
 138                                   2   1     2
 139    ;
 140   
 141   
 142    Table
 143    GenInZone(G,S) "generation in zone"  1   2
****                $122
**** LINE     98 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 144                                     1   1   1
 145                                     2   1   1
 146                                     3   1   1
 147                                     4   1   2
 148                                     5   1   2
 149                                     6   1   2
 150                                     7   1   1
 151                                     8   1   2
 152   
 153    ;
 154   
 155    Table
 156    NodeInZone(N,S) "node in zone" 1     2
****                 $122
**** LINE    111 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
**** LINE     45 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 157                               1   1     1
 158                               2   1     2
 159    ;
 160   
 161   
 162  *** Read.csv Input Data
 163   
GDXIN   C:\Users\ba62very\MyGit\risk-aversion\GAMS\input.gdx
--- LOAD  avail = 1:avail
 168   
GDXIN   C:\Users\ba62very\MyGit\risk-aversion\GAMS\input.gdx
--- LOAD  periodScale = 1:periodScale
 173   
GDXIN   C:\Users\ba62very\MyGit\risk-aversion\GAMS\input.gdx
--- LOAD  dRef = 1:dRef
 178   
GDXIN   C:\Users\ba62very\MyGit\risk-aversion\GAMS\input.gdx
--- LOAD  pRef = 1:pRef
 183   
 184  *** Demand Curves ***
 185   
 186    consObjB(D,T,S_dlev,S_dloc) = (-1) * pRef(T) / ( dRef(T, S_dlev) * qPeak(D, S_dloc) * epsilon )      ;
 187    consObjA(D,T,S_dlev,S_dloc) =  pRef(T) + consObjB(D,T,S_dlev,S_dloc) * dRef(T, S_dlev) * qPeak(D, S_dloc)          ;
INCLUDE    C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
 189    Parameters
 190   
 191    Test
 192   
 193  *welfare
 194    wf_sp                  "spot market welfare"
 195    wf_sc_sp(S)            "spot market welfare for scenario s"
****             $122
**** LINE      7 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 196    wf_SP_Test             "TEST"
 197    wf_sc_all(S)           "final welfare for scenario s"
****              $122
**** LINE      9 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 198    wf_all                 "final welfare"
 199    wf_SP_d(S,D)
****            $122
**** LINE     11 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 200  *  nodal_welfare(S,N)     "welfare for node d in scenario s"
 201   
 202  *costs
 203    ct_RD_TEST
 204  * COST_FC_G
 205    Cost_sc_rd_g(S)
****                 $122
**** LINE     17 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 206    Cost_sc_rd_b(S)
****                 $122
**** LINE     18 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 207    Cost_sc_rd_l(S)
****                 $122
**** LINE     19 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 208    Cost_sc_sp_g(S)
****                 $122
**** LINE     20 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 209    Cost_fc_l
 210    Cost_fc_b
 211    Cost_fc_g
 212    Cost_sc_cr(S)          "Congestion rent by scenario"
****               $122
**** LINE     24 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 213  *  genCost                "cost of generation investment"
 214  *  buCost
 215    rediCost(S)            "network costs and redispatch cost in scenario s"
****             $122
**** LINE     27 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 216    totalRediCost          "total redispatch cost for all scenarios"
 217    rediGenCost            "cost for generation redispatch in scenario s"
 218    rediBuCost             "variable cost for backup capacity in scenario s"
 219    Demand
 220  *investment
 221    SP_CAP_G(G)            "investment decision in conv. generation capacity of spot market level"
 222    RD_CAP_B(B)             "investment of backup generator B"
 223  *generation and demand
 224    SP_DEM(S,D,T)          "demand Spot"
****           $122
**** LINE     36 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 225    SP_GEN_G(S,G,T)        "generation amount Spot"
****             $122
**** LINE     37 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 226    RD_GEN_G(S,G,T)        "generation after Redispatch"
****             $122
**** LINE     38 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 227    RD_GEN_B(S,B,T)        "generation of backup capacity b in scenario s and time t"
****             $122
**** LINE     39 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 228    RD_DEM_L(S,D,T)        "load shedding"
****             $122
**** LINE     40 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 229  *  averageDemand(S,D,T)   "total redispatched demand of consumer d over all periods and scenarios"
 230   
 231  *prices
 232    priceD_Spot(S,D,T)     "price for consumer d in period t in scenario s"
****                $122
**** LINE     44 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 233    priceG_Spot(S,G,T)     "price for producer g in period t in scenario s"
****                $122
**** LINE     45 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 234    Price_SP_nodalAvg(S,N)
****                      $122
**** LINE     46 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 235    Price_RD_Markup(S)
****                    $122
**** LINE     47 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 236    Price_FI_nodal(S,N)
****                   $122
**** LINE     48 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 237   
 238  *  avgPriceSpot(S)        "average price in scenario s"
 239  *  nodalAvgPriceSpot(S,N) "average price for node n in scenario s"
 240  *  totalAvgPriceSpot      "weighted average spot price over all scenarios"
 241  *transmission
 242    lineB(L)
 243    SP_FLOW(S,L,T)
****            $122
**** LINE     55 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 244    SP_CAP_L(L)
 245    RD_FLOW(S,L,T)         "flow through line L in scenario s and time t after redispatch"
****            $122
**** LINE     57 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 246  *  networkRevenues(S)     "network revenues in scenario s"
 247  *  networkFee(S)          "network fee in scenario s"
 248  *utilization
 249  *  avgGenUtilization(S,G) "average utilization of generator g in scenario s"
 250  *  avgLineUtilization(S)  "average utilization of transmission capacity in scenario s"
 251  *  avgBuUtilization(S,B)  "average utilization of backup b in scenario s"
 252   
 253   
 254    Loop_Probability_results(Loop_Probability,S);
****                                              $122
**** LINE     66 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 255   
 256    Parameters
 257    Loop_welfare_sp(Loop_Probability, LineInvest)          "spot market welfare"
 258    Loop_welfare_sp_sc(Loop_Probability,LineInvest,S)      "spot market welfare for scenario s"
****                                                   $122
**** LINE     70 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 259    Loop_welfare_all_sc(Loop_Probability,LineInvest,S)     "welfare for scenario s"
****                                                    $122
**** LINE     71 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 260    Loop_welfare_all(Loop_Probability,LineInvest)          "total welfare"
 261    Loop_welfare_sp_TEST(Loop_Probability, LineInvest)
 262    Loop_welfare_sp_sc_d(Loop_Probability, LineInvest,S,D)
****                                                      $122
**** LINE     74 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 263   
 264    Loop_genInv(Loop_Probability, LineInvest, G)           "generation investment"
 265    Loop_lineInv(Loop_Probability,LineInvest)              "cost of line investement"
 266   
 267    Loop_price_SP_D(Loop_Probability,LineInvest,S,D,T)     "price for consumer d in period t in scenario s"
****                                                $122
**** LINE     79 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 268    Loop_price_SP_G(Loop_Probability,LineInvest,S,G,T)     "price for generators g in period t in scenario s"
****                                                $122
**** LINE     80 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 269    Loop_price_SP_nodal(Loop_Probability,LineInvest,S,N)
****                                                    $122
**** LINE     81 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 270    Loop_price_RD_markup(Loop_Probability,LineInvest,S,results)
****                                                     $122
**** LINE     82 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 271    Loop_price_Final(Loop_Probability,LineInvest,S,N)
****                                                 $122
**** LINE     83 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 272   
 273    Loop_results_rents_A(Loop_Probability,LineInvest,S,results)
****                                                     $122
**** LINE     85 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 274    Loop_results_rents_N(Loop_Probability,LineInvest,S,N,results)
****                                                     $122
**** LINE     86 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 275    Loop_rents_CS(Loop_Probability,LineInvest,D,S)
****                                                $122
**** LINE     87 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 276    Loop_rents_PS(Loop_Probability,LineInvest,G,S)
****                                                $122
**** LINE     88 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 277    Loop_profits_PS(Loop_Probability,LineInvest,G,S)
****                                                  $122
**** LINE     89 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 278   
 279    Loop_redispatch_TEST(Loop_Probability, LineInvest)
 280    Loop_redispatch(Loop_Probability, LineInvest)
 281    Loop_redispatch_sc(Loop_Probability, LineInvest,s)
****                                                    $122
**** LINE     93 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 282   
 283    Loop_demand(Loop_Probability, LineInvest,S,N)
****                                             $122
**** LINE     95 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 284    Loop_nodal(Loop_Probability, LineInvest,S,N,results)
****                                            $122
**** LINE     96 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
**** LINE     46 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 285   
        Loop_nodal_welfare(Loop_Probability, LineInvest, S,N)  "welfare for node d in scenario s"
        Loop_avgPriceSpot(Loop_Probability,LineInvest,S)       "average price in scenario s"
        Loop_nodalAvgPriceSpot(Loop_Probability,LineInvest,S,N)"average price for node n in scenario s"
       
        Loop_genCost(Loop_Probability,LineInvest)              "cost of generation investment"
        Loop_buCost(Loop_Probability,LineInvest)               "cost of generation investment"
       
       
        Loop_buInv(Loop_Probability, LineInvest, B)            "generation investment backup capacity"
      *  Loop_resInv(Loop_Probability, LineInvest, R)           "generation investment RES capacity"
        Loop_totalAvgPriceSpot(Loop_Probability, LineInvest)   "weighted average spot price over all scenarios"
        Loop_demand(Loop_Probability, LineInvest,S,D,T)        "redispatched demand of consumer D"
        Loop_avgPriceCons(Loop_Probability, LineInvest, S,D)   "weighted average price at consumer d in scenario s over all periods"
       
       
        Loop_rediCost(Loop_Probability, LineInvest, S)         "redispatch cost in scenario s"
        Loop_totalRediCost(Loop_Probability, LineInvest)       "total redispatch cost in all scenarios"
        Loop_rediGenCost(Loop_Probability, LineInvest, S)      "cost for generation redispatch in scenario s"
        Loop_rediBuCost(Loop_Probability, LineInvest, S)       "variable cost for backup capacity in scenario s"
       
       
        Loop_flowFinal(Loop_Probability, LineInvest, S,L,T)            "flow through line L in scenario s and time t after redispatch"
        Loop_generationBU(Loop_Probability, LineInvest,S,B,T)          "generation of backup capacity b in scenario s and time t"
        Loop_generation(Loop_Probability, LineInvest,S,G,T)            "generation of generator g in scenario s and time t"
        Loop_totalLineCapacity(Loop_Probability, LineInvest)           "total line capacity"
        Loop_avgGenUtilization(Loop_Probability, LineInvest, S,G)      "average utilization of generator g in scenario s"
        Loop_avgLineUtilization(Loop_Probability, LineInvest,S)        "average utilization of transmission capacity in scenario s"
        Loop_avgBuUtilization(Loop_Probability, LineInvest, S,B)       "average utilization of backup b in scenario s"
        Loop_networkFee(Loop_Probability, LineInvest, S)               "network fee in scenario s"
        Loop_networkRev(Loop_Probability,LineInvest,S)                 "Congestion rents"
        Loop_results_rents_N(Loop_Probability,LineInvest,S,N,results)
       
        Loop_price_comp(Loop_Probability,LineInvest,N,results)
        Loop_RD_comp(Loop_Probability,LineInvest,N,results)
        Loop_CR_comp(Loop_Probability,LineInvest,N,S)
        Loop_results_price_N(Loop_Probability,LineInvest,S,N,results)
        Loop_results_price_A(Loop_Probability,LineInvest,S,results)
 325  ;
INCLUDE    C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
 327  ***--------------------------------------------------------------------------***
 328  ***                           DEFINITION of VARIABLES                        ***
 329  ***--------------------------------------------------------------------------***
 330   
 331    Variables
 332  * objective values
 333    welfareSpot            "welfare in spot market"
 334    costRedispatch         "cost at redispatch level"
 335   
 336  * Spot Market
 337    f_sp(S,L,T)            "trade flow in spot market"
****         $122
**** LINE     11 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 338    VAR_sp                 "value at risk spot market"
 339  * Redispatch
 340    f_rd(S,L,T)            "transmission flows redispatch"
****         $122
**** LINE     14 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 341    angle(S,N,T)           "phase angle in redispatch model"
****          $122
**** LINE     15 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 342    VAR_rd                "value at risk redispatch"
 343    CVAR                   "conditional value at risk"
 344    ;
 345   
 346    Positive Variables
 347  * Spot Market
 348    d_sp(S,D,T)            "demand spot market"
****         $122
**** LINE     22 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 349    g_sp(S,G,T)            "generation amount spot market"
****         $122
**** LINE     23 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 350    ig_sp(G)               "installed capacity of generators in spot market"
 351  * Risk Aversion
 352    eta_sp(S)              "auxiliary variable to model CVAR in spot market stage"
****           $122
**** LINE     26 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 353   
 354   
 355  * Redispatch
 356    d_rd(S,D,T)            "demand redispatcht"
****         $122
**** LINE     30 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 357    g_rd(S,G,T)            "generation amount redispatch"
****         $122
**** LINE     31 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 358    gb_rd(S,B,T)           "generation backup capacity redispatch"
****          $122
**** LINE     32 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 359    ib_rd(B)               "investment in backup capacity redispatch"
 360    g_n_rd(S,G,T)          "negative generation redispatch"
****           $122
**** LINE     34 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 361    g_p_rd(S,G,T)          "positive generation redispatch"
****           $122
**** LINE     35 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 362    ls_rd(S,D,T)           "load shedding redispatch"
****          $122
**** LINE     36 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 363  * Risk Aversion
 364    eta_rd(S)              "auxiliary variable to model CVAR in redispatch stage"
****           $122
**** LINE     38 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 122  One dimensional set expected
 365    ;
 366   
 367  *  Binary Variable
 368  *  lineB(L)               "line is built?"
 369  *  ;
 370   
 371  ***--------------------------------------------------------------------------***
 372  ***                          SPOT MARKET MODEL                               ***
 373  ***--------------------------------------------------------------------------***
 374   
 375  *** Objective function
 376    Equation welfSpot;
 377    welfSpot..         welfareSpot =e= (1-weight_sp)*sum(S$probability(S), probability(S)
****                                                                        $148            $148
**** LINE     51 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 378                                        * ( sum((D,T), periodScale(T)*( consObjA(D,T) * d_sp(S,D,T)
****                                                                                    $148          $148
**** LINE     52 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 379                                        - 0.5 * consObjB(D,T) * d_sp(S,D,T) * d_sp(S,D,T) ) )
****                                                            $148          $148          $148
**** LINE     53 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 380                                        - sum((G,T), genVarInv(G) * g_sp(S,G,T) * periodScale(T) ) ) ) * Year
****                                                                $148          $148
**** LINE     54 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 381                                        - sum(G, genFixInv(G) * ig_sp(G) )
 382                                        + weight_sp*(VAR_sp - (1/(1-percentile)*sum(S$probability(S), probability(S) * eta_sp(S)))) ;
****                                                                                                   $148            $148        $148
**** LINE     56 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 383   
 384  *** Conditional Value at Risk Restrictions ***
 385    Equation CVARSpot;
 386    CVARSpot(S)$probability(S)..
****                             $148
**** LINE     60 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 387          VAR_sp - (( sum((D,T), periodScale(T)*( consObjA(D,T) * d_sp(S,D,T)
****                                                              $148          $148
**** LINE     61 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 388                  - 0.5 * consObjB(D,T) * d_sp(S,D,T) * d_sp(S,D,T) ) )
****                                      $148          $148          $148
**** LINE     62 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 389                  - sum((G,T), genVarInv(G) * g_sp(S,G,T) * periodScale(T) ) )  * Year
****                                          $148          $148
**** LINE     63 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 390                  - sum(G, genFixInv(G) * ig_sp(G))) =l=eta_sp(S)
****                                                                $148
**** LINE     64 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 391   
 392  *** Zonal First Kirchhoffs Law
 393   
 394    Equation ZFKL;
 395    ZFKL(S,Z,T)$probability(S)..
****                             $148
**** LINE     69 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 396   
 397           sum(D$(consInZone(D,S) = Z.val), d_sp(S,D,T)) =e=
****                                $148                  $148
**** LINE     71 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 398                       sum(G$(sum(N$(genAtNode(G) = N.val), NodeInZone(N,S)) = Z.val), g_sp(S,G,T) )
****                                                                          $148                   $148
**** LINE     72 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 399                     - sum(L$(sum(N$(lineStart(L) = N.val), NodeInZone(N,S)) = Z.val and lineInter(S,L) = 1), f_sp(S,L,T))
****                                                                          $148                      $171,148            $148
**** LINE     73 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
**** 171  Domain violation for set
 400                     + sum(L$(sum(N$(lineEnd(L) = N.val),   NodeInZone(N,S)) = Z.val and lineInter(S,L) = 1), f_sp(S,L,T)) ;
****                                                                          $148                      $171,148            $148
**** LINE     74 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
**** 171  Domain violation for set
 401   
 402  *** Market Coupling Flow Restrictions
 403   
 404    Equation MCF1;
 405    MCF1(S,L,T)$(lineInter(S,L) = 1 and lineIsNew(L) = 0)..   f_sp(S,L,T) =l= lineUB(L);
****                            $171,148                                    $148
**** LINE     79 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
**** 171  Domain violation for set
 406    Equation MCF2;
 407    MCF2(S,L,T)$(lineInter(S,L) = 1 and lineIsNew(L) = 0).. - lineUB(L)=l= f_sp(S,L,T);
****                            $171,148                                                 $148
**** LINE     81 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
**** 171  Domain violation for set
 408    Equation MCF3;
 409    MCF3(S,L,T)$(lineInter(S,L) = 1 and lineIsNew(L) = 1)..   f_sp(S,L,T) =l= lineB(L) * lineUB(L);
****                            $171,148                                    $148
**** LINE     83 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
**** 171  Domain violation for set
 410    Equation MCF4;
 411    MCF4(S,L,T)$(lineInter(S,L) = 1 and lineIsNew(L) = 1).. - lineB(L) * lineUB(L) =l= f_sp(S,L,T);
****                            $171,148                                                             $148
**** LINE     85 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
**** 171  Domain violation for set
 412   
 413  ***Generation Capacity Limits
 414   
 415    Equation GCLSpot ;
 416    GCLSpot(S,G,T)..  g_sp(S,G,T) =l= avail(T,G) * ig_sp(G) ;
****                                $148
**** LINE     90 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 417   
 418   
 419  ***--------------------------------------------------------------------------***
 420  ***                     NETWORK- and REDISPATCH LEVEL                        ***
 421  ***--------------------------------------------------------------------------***
 422   
 423    Equation costRed ;
 424    costRed..         costRedispatch =e= (1-weight_rd)*(sum(S$probability(S), probability(S)
****                                                                           $148            $148
**** LINE     98 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 425                                           * ( sum((G,T), genVarInv(G) * ( g_rd(S,G,T) - SP_GEN_G(S,G,T) ) * periodScale(T) ) * YEAR
****                                                                     $148            $148              $148
**** LINE     99 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 426                                             + sum((B,T), buVarInv * gb_rd(S,B,T) * periodScale(T) ) * YEAR )))
****                                                                                $148
**** LINE    100 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 427                                             + sum(B, buFixInv * ib_rd(B) )
 428                                             + sum(L$(lineIsNew(L) = 1), lineFixInv(L) * lineB(L))
****                                                                                     $148
**** LINE    102 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 429                                             + weight_rd*CVAR
 430                                             ;
 431   
 432  *** Conditional Value at Risk Restrictions ***
 433   
 434    Equation CVARRed1;
 435    CVARRed1..
 436           (VAR_rd + (1/(1-percentile)*sum(S$probability(S), probability(S) * eta_rd(S)))) =l= CVAR
****                                                          $148            $148        $148
**** LINE    110 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 437   
 438    Equation CVARRed2;
 439    CVARRed2(S)$probability(S)..
****                             $148
**** LINE    113 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 440           (sum((G,T), genVarInv(G) * ( g_rd(S,G,T) - SP_GEN_G(S,G,T) ) * periodScale(T) ) * YEAR
****                                  $148            $148              $148
**** LINE    114 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 441                                             + sum((B,T), buVarInv * gb_rd(S,B,T) * periodScale(T) ) * YEAR )
****                                                                                $148
**** LINE    115 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 442                                             + sum(B, buFixInv * ib_rd(B) )
 443                                             + sum(L$(lineIsNew(L) = 1), lineFixInv(L) * lineB(L) ) - VAR_rd =l=eta_rd(S)
****                                                                                     $148                               $148
**** LINE    117 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 444   
 445  ***First Kirchhoffs Law
 446   
 447    Equation FKL;
 448    FKL(S,N,T)$probability(S)..   sum(D$(consAtNode(D) = N.val), SP_DEM(S,D,T)) =e=
****                            $148                                             $148
**** LINE    122 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 449                   sum(G$(genAtNode(G)   = N.val), g_rd(S,G,T))
****                                                             $148
**** LINE    123 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 450                   + sum(B$(buAtNode(B)  = N.val), gb_rd(S,B,T))
****                                                              $148
**** LINE    124 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 451                   + sum(L$(lineEnd(L)   = N.val), f_rd(S,L,T))
****                                                             $148
**** LINE    125 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 452                   - sum(L$(lineStart(L) = N.val), f_rd(S,L,T)) ;
****                                                             $148
**** LINE    126 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 453   
 454  ***Second Kirchhoffs Law
 455   
 456    Equation SKL1;
 457    SKL1(S,L,T)$(lineIsNew(L) = 0).. f_rd(S,L,T) + lineGamma(L) * (sum(N$(lineStart(L) = N.val), angle(S,N,T)) - sum(N$(lineEnd(L) = N.val), angle(S,N,T))) =e= 0;
****                                               $148                                                         $148                                        $148
**** LINE    131 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 458    Equation SKL2;
 459    SKL2(S,L,T)$(lineIsNew(L) = 1).. - M * (1 - lineB(L)) =l=  f_rd(S,L,T) + lineGamma(L) * (sum(N$(lineStart(L) = N.val), angle(S,N,T)) - sum(N$(lineEnd(L) = N.val), angle(S,N,T)));
****                                                                         $148                                                         $148                                        $148
**** LINE    133 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 460    Equation SKL3;
 461    SKL3(S,L,T)$(lineIsNew(L) = 1).. f_rd(S,L,T) + lineGamma(L) * (sum(N$(N.val = lineStart(L)), angle(S,N,T)) - sum(N$(N.val = lineEnd(L)), angle(S,N,T))) =l= M * (1 - lineB(L));
****                                               $148                                                         $148                                        $148
**** LINE    135 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 462   
 463  ***Voltage Phase Angle
 464   
 465    Equation VPA;
 466    VPA(S,N,T)$(N.val = 1).. angle(S,N,T) =e= 0;
****                                        $148
**** LINE    140 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 467   
 468  ***Trasmission Flow Limits
 469   
 470    Equation TFL1;
 471    TFL1(S,L,T)$(lineIsNew(L) = 0)..   f_rd(S,L,T) =l= lineUB(L);
****                                                 $148
**** LINE    145 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 472    Equation TFL2;
 473    TFL2(S,L,T)$(lineIsNew(L) = 0).. - lineUB(L) =l= f_rd(S,L,T);
****                                                               $148
**** LINE    147 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 474    Equation TFL3;
 475    TFL3(S,L,T)$(lineIsNew(L) = 1)..   f_rd(S,L,T) =l= lineB(L) * lineUB(L);
****                                                 $148
**** LINE    149 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 476    Equation TFL4;
 477    TFL4(S,L,T)$(lineIsNew(L) = 1).. - lineB(L) * lineUB(L) =l= f_rd(S,L,T);
****                                                                          $148
**** LINE    151 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 478   
 479  ***Generation Capacity Limits (Redispatch Level)
 480   
 481    Equation GCLRed;
 482    GCLRed(S,G,T)$probability(S).. g_rd(S,G,T) =l= avail(T,G) * SP_CAP_G(G) ;
****                               $148          $148
**** LINE    156 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 483   
 484    Equation GCLBu;
 485    GCLBu(S,B,T)$probability(S)..  gb_rd(S,B,T) =l= ib_rd(B) ;
****                              $148            $148
**** LINE    159 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 486   
 487  *** Fix Spot Market and Redispatch Quantities
 488   
 489    Equation fixDem;
 490    fixDem(S,D,T)$probability(S).. d_rd(S,D,T) =e= SP_DEM(S,D,T)
****                               $148          $148              $148
**** LINE    164 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 491  *- ls_rd(S,D,T)
 492    ;
 493   
 494    Equation fixGen;
 495    fixGen(S,G,T)$probability(S).. g_rd(S,G,T) =e= SP_GEN_G(S,G,T) + g_p_rd(S,G,T) - g_n_rd(S,G,T);
****                               $148          $148                $148            $148            $148
**** LINE    169 INCLUDE     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
**** LINE     47 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 148  Dimension different - The symbol is referenced with more/less
****         indices as declared
 496   
 497  ***--------------------------------------------------------------------------***
 498  ***                           DEFINITION MODELS                              ***
 499  ***--------------------------------------------------------------------------***
 500   
 501    Model Spotmarket
 502    / welfspot,
 503      CVARSpot,
 504      ZFKL,
 505      MCF1,
 506      MCF2,
 507      MCF3,
 508      MCF4,
 509      GCLSpot /;
 510   
 511    Model Redispatch
 512    / costRed,
 513      CVARRed1,
 514      CVARRed2,
 515      FKL,
 516      SKL1,
 517      SKL2,
 518      SKL3,
 519      VPA,
 520      TFL1,
 521      TFL2,
 522      TFL3,
 523      TFL4,
 524      GCLRed,
 525      GCLBu,
 526      fixDem,
 527      fixGen /;
 528   
 529  ***--------------------------------------------------------------------------***
 530  ***                           END MODEL SECTION                              ***
 531  ***--------------------------------------------------------------------------***
 532  display S(S_trans,S_co2,S_dloc,S_dlev);
****           $409
**** LINE     48 INPUT       C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
**** 409  Unrecognizable item - skip to find a new statement
****        looking for a ';' or a key word to get started again
STOP C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms

**** 167 ERROR(S)   0 WARNING(S)
GAMS 25.1.3  r4e34d435fbd Released Oct 30, 2018 WEX-WEI x86 64bit/MS Windows - 03/14/19 16:45:11 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
     2       45 INCLUDE        1      45  .C:\Users\ba62very\MyGit\risk-aversion\GAMS\Input_2Nodes.gms
     3      164 CALL           2     119  .csv2gdx Data/InputRES.txt id=avail Index=1 Value='(2..9)' UseHeader=Y StoreZero=Y FieldSep=Tab Output=input.gdx
     4      165 GDXIN          2     120  .C:\Users\ba62very\MyGit\risk-aversion\GAMS\input.gdx
     5      169 CALL           2     124  .csv2gdx Data/Input_HourlyValues.txt id=periodScale Index=1 Value=2 UseHeader=Y StoreZero=Y FieldSep=Tab Output=input.gdx
     6      170 GDXIN          2     125  .C:\Users\ba62very\MyGit\risk-aversion\GAMS\input.gdx
     7      174 CALL           2     129  .csv2gdx Data/Input_HourlyValues.txt id=dRef Index=1 Value='(4..6)' UseHeader=Y StoreZero=Y FieldSep=Tab Output=input.gdx
     8      175 GDXIN          2     130  .C:\Users\ba62very\MyGit\risk-aversion\GAMS\input.gdx
     9      179 CALL           2     134  .csv2gdx Data/Input_HourlyValues.txt id=pRef Index=1 Value=4 UseHeader=Y StoreZero=Y FieldSep=Tab Output=input.gdx
    10      180 GDXIN          2     135  .C:\Users\ba62very\MyGit\risk-aversion\GAMS\input.gdx
    11      188 INCLUDE        1      46  .C:\Users\ba62very\MyGit\risk-aversion\GAMS\Parameters_2Nodes.gms
    12      326 INCLUDE        1      47  .C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
    13      533 STOP           1      49  C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms


COMPILATION TIME     =        0.063 SECONDS      3 MB  25.1.3 r4e34d435fbd WEX-WEI


USER: Small MUD - 5 User License                     S181102:0656AO-WIN
      Friedrich-Alexander-Universitaet Erlangen-Nurnberg, Chair DC12906
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.gms
Output     C:\Users\ba62very\MyGit\risk-aversion\GAMS\2Nodes.lst

**** USER ERROR(S) ENCOUNTERED
