GAMS 25.1.3  r4e34d435fbd Released Oct 30, 2018 WEX-WEI x86 64bit/MS Windows - 03/12/19 10:52:59 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  ***--------------------------------------------------------------------------***
   2  ***                           DEFINITION of VARIABLES                        ***
   3  ***--------------------------------------------------------------------------***
   4   
   5    Variables
   6  * objective values
   7    welfareSpot            "welfare in spot market"
   8    costRedispatch         "cost at redispatch level"
   9   
  10  * Spot Market
  11    f_sp(S,L,T)            "trade flow in spot market"
****         $120,120,120
**** 120  Unknown identifier entered as set
  12  * Redispatch
  13    f_rd(S,L,T)            "transmission flows redispatch"
  14    angle(S,N,T)           "phase angle in redispatch model"
****            $120
**** 120  Unknown identifier entered as set
  15    ;
  16   
  17    Positive Variables
  18  * Spot Market
  19    d_sp(S,D,T)            "demand spot market"
****           $120
**** 120  Unknown identifier entered as set
  20    g_sp(S,G,T)            "generation amount spot market"
****           $120
**** 120  Unknown identifier entered as set
  21    ig_sp(G)               "installed capacity of generators in spot market"
  22  * Risk Aversion
  23    eta_sp(S)              "auxiliary variable to model CVAR in spot market stage"
  24    zeta_sp                "other auxiliary variable to model CVAR in spot market stage"
  25   
  26  * Redispatch
  27    d_rd(S,D,T)            "demand redispatcht"
  28    g_rd(S,G,T)            "generation amount redispatch"
  29    gb_rd(S,B,T)           "generation backup capacity redispatch"
****            $120
**** 120  Unknown identifier entered as set
  30    ib_rd(B)               "investment in backup capacity redispatch"
  31    g_n_rd(S,G,T)          "negative generation redispatch"
  32    g_p_rd(S,G,T)          "positive generation redispatch"
  33    ls_rd(S,D,T)           "load shedding redispatch"
  34  * Risk Aversion
  35    eta_rd(S)              "auxiliary variable to model CVAR in redispatch stage"
  36    zeta_rd                "other auxiliary variable to model CVAR in redispatch stage"
  37    ;
  38   
  39  *  Binary Variable
  40  *  lineB(L)               "line is built?"
  41  *  ;
  42   
  43  ***--------------------------------------------------------------------------***
  44  ***                          SPOT MARKET MODEL                               ***
  45  ***--------------------------------------------------------------------------***
  46   
  47  *** Objective function
  48    Equation welfSpot;
  49    welfSpot..         welfareSpot =e= (1-weight_spot)*sum(S$probability(S), probability(S)
****                                                    $140               $140
**** 140  Unknown symbol
  50                                                                   * ( sum((D,T), periodScale(T)*( consObjA(D,T) * d_sp(S,D,T)
****                                                                                            $140          $140
**** 140  Unknown symbol
  51                                                                           - 0.5 * consObjB(D,T) * d_sp(S,D,T) * d_sp(S,D,T) ) )
****                                                                                          $140
**** 140  Unknown symbol
  52                                                                           - sum((G,T), genVarInv(G) * g_sp(S,G,T) * periodScale(T) ) ) ) * Year
****                                                                                                $140                                           $140
**** 140  Unknown symbol
  53                                           - sum(G, genFixInv(G) * ig_sp(G) ) ;
****                                                            $140
**** 140  Unknown symbol
  54   
  55  *** Zonal First Kirchhoffs Law
  56   
  57    Equation ZFKL;
  58    ZFKL(S,Z,T)$probability(S)..
****           $120
**** 120  Unknown identifier entered as set
  59   
  60           sum(D$(consInZone(D,S) = Z.val), d_sp(S,D,T)) =e=
****                           $140
**** 140  Unknown symbol
  61                       sum(G$(sum(N$(genAtNode(G) = N.val), NodeInZone(N,S)) = Z.val), g_sp(S,G,T) )
****                                             $140                    $140
**** 140  Unknown symbol
  62                     - sum(L$(sum(N$(lineStart(L) = N.val), NodeInZone(N,S)) = Z.val and lineInter(S,L) = 1), f_sp(S,L,T))
****                                             $140                                                $140
**** 140  Unknown symbol
  63                     + sum(L$(sum(N$(lineEnd(L) = N.val),   NodeInZone(N,S)) = Z.val and lineInter(S,L) = 1), f_sp(S,L,T)) ;
****                                           $140
**** 140  Unknown symbol
  64   
  65  *** Market Coupling Flow Restrictions
  66   
  67    Equation MCF1;
  68    MCF1(S,L,T)$(lineInter(S,L) = 1 and lineIsNew(L) = 0)..   f_sp(S,L,T) =l= lineUB(L);
****                                                $140                               $140
**** 140  Unknown symbol
  69    Equation MCF2;
  70    MCF2(S,L,T)$(lineInter(S,L) = 1 and lineIsNew(L) = 0).. - lineUB(L)=l= f_sp(S,L,T);
  71    Equation MCF3;
  72    MCF3(S,L,T)$(lineInter(S,L) = 1 and lineIsNew(L) = 1)..   f_sp(S,L,T) =l= lineB(L) * lineUB(L);
****                                                                                  $140
**** 140  Unknown symbol
  73    Equation MCF4;
  74    MCF4(S,L,T)$(lineInter(S,L) = 1 and lineIsNew(L) = 1).. - lineB(L) * lineUB(L) =l= f_sp(S,L,T);
  75   
  76  ***Generation Capacity Limits
  77   
  78    Equation GCLSpot ;
  79    GCLSpot(S,G,T)..  g_sp(S,G,T) =l= avail(T,G) * ig_sp(G) ;
****                                          $140
**** 140  Unknown symbol
  80   
  81   
  82  ***--------------------------------------------------------------------------***
  83  ***                     NETWORK- and REDISPATCH LEVEL                        ***
  84  ***--------------------------------------------------------------------------***
  85   
  86    Equation costRed ;
  87    costRed..         costRedispatch =e= sum(S$probability(S), probability(S)
  88                                           * ( sum((G,T), genVarInv(G) * ( g_rd(S,G,T) - SP_GEN_G(S,G,T) ) * periodScale(T) ) * YEAR
****                                                                                                $140
**** 140  Unknown symbol
  89                                             + sum((B,T), buVarInv * gb_rd(S,B,T) * periodScale(T) ) * YEAR ) )
****                                                                 $140
**** 140  Unknown symbol
  90  *                                         + sum((D,T), DSM * ls_rd(S,D,T) * periodScale(T) ) * YEAR )
  91                                             + sum(B, buFixInv * ib_rd(B) )
****                                                             $140
**** 140  Unknown symbol
  92                                             + sum(L$(lineIsNew(L) = 1), lineFixInv(L) * lineB(L) ) ;
****                                                                                  $140
**** 140  Unknown symbol
  93   
  94  ***First Kirchhoffs Law
  95   
  96    Equation FKL;
  97    FKL(S,N,T)$probability(S)..   sum(D$(consAtNode(D) = N.val), SP_DEM(S,D,T)) =e=
****                                                  $140                $140
**** 140  Unknown symbol
  98                   sum(G$(genAtNode(G)   = N.val), g_rd(S,G,T))
  99                   + sum(B$(buAtNode(B)  = N.val), gb_rd(S,B,T))
****                                   $140
**** 140  Unknown symbol
 100                   + sum(L$(lineEnd(L)   = N.val), f_rd(S,L,T))
 101                   - sum(L$(lineStart(L) = N.val), f_rd(S,L,T)) ;
 102   
 103  ***Second Kirchhoffs Law
 104   
 105    Equation SKL1;
 106    SKL1(S,L,T)$(lineIsNew(L) = 0).. f_rd(S,L,T) + lineGamma(L) * (sum(N$(lineStart(L) = N.val), angle(S,N,T)) - sum(N$(lineEnd(L) = N.val), angle(S,N,T))) =e= 0;
****                                                           $140
**** 140  Unknown symbol
 107    Equation SKL2;
 108    SKL2(S,L,T)$(lineIsNew(L) = 1).. - M * (1 - lineB(L)) =l=  f_rd(S,L,T) + lineGamma(L) * (sum(N$(lineStart(L) = N.val), angle(S,N,T)) - sum(N$(lineEnd(L) = N.val), angle(S,N,T)));
****                                       $140
**** 140  Unknown symbol
 109    Equation SKL3;
 110    SKL3(S,L,T)$(lineIsNew(L) = 1).. f_rd(S,L,T) + lineGamma(L) * (sum(N$(N.val = lineStart(L)), angle(S,N,T)) - sum(N$(N.val = lineEnd(L)), angle(S,N,T))) =l= M * (1 - lineB(L));
 111   
 112  ***Voltage Phase Angle
 113   
 114    Equation VPA;
 115    VPA(S,N,T)$(N.val = 1).. angle(S,N,T) =e= 0;
 116   
 117  ***Trasmission Flow Limits
 118   
 119    Equation TFL1;
 120    TFL1(S,L,T)$(lineIsNew(L) = 0)..   f_rd(S,L,T) =l= lineUB(L);
 121    Equation TFL2;
 122    TFL2(S,L,T)$(lineIsNew(L) = 0).. - lineUB(L) =l= f_rd(S,L,T);
 123    Equation TFL3;
 124    TFL3(S,L,T)$(lineIsNew(L) = 1)..   f_rd(S,L,T) =l= lineB(L) * lineUB(L);
 125    Equation TFL4;
 126    TFL4(S,L,T)$(lineIsNew(L) = 1).. - lineB(L) * lineUB(L) =l= f_rd(S,L,T);
 127   
 128  ***Generation Capacity Limits (Redispatch Level)
 129   
 130    Equation GCLRed;
 131    GCLRed(S,G,T)$probability(S).. g_rd(S,G,T) =l= avail(T,G) * SP_CAP_G(G) ;
****                                                                       $140
**** 140  Unknown symbol
 132   
 133    Equation GCLBu;
 134    GCLBu(S,B,T)$probability(S)..  gb_rd(S,B,T) =l= ib_rd(B) ;
 135   
 136  *** Fix Spot Market and Redispatch Quantities
 137   
 138    Equation fixDem;
 139    fixDem(S,D,T)$probability(S).. d_rd(S,D,T) =e= SP_DEM(S,D,T)
 140  *- ls_rd(S,D,T)
 141    ;
 142   
 143    Equation fixGen;
 144    fixGen(S,G,T)$probability(S).. g_rd(S,G,T) =e= SP_GEN_G(S,G,T) + g_p_rd(S,G,T) - g_n_rd(S,G,T);
 145   
 146  ***--------------------------------------------------------------------------***
 147  ***                           DEFINITION MODELS                              ***
 148  ***--------------------------------------------------------------------------***
 149   
 150    Model Spotmarket
 151    / welfspot,
 152      ZFKL,
 153      MCF1,
 154      MCF2,
 155      MCF3,
 156      MCF4,
 157      GCLSpot /;
 158   
 159    Model Redispatch
 160    / costRed,
 161      FKL,
 162      SKL1,
 163      SKL2,
 164      SKL3,
 165      VPA,
 166      TFL1,
 167      TFL2,
 168      TFL3,
 169      TFL4,
 170      GCLRed,
 171      GCLBu,
 172      fixDem,
 173      fixGen /;
 174   
 175  ***--------------------------------------------------------------------------***
 176  ***                           END MODEL SECTION                              ***
 177  ***--------------------------------------------------------------------------***

**** 36 ERROR(S)   0 WARNING(S)


COMPILATION TIME     =        0.000 SECONDS      3 MB  25.1.3 r4e34d435fbd WEX-WEI


USER: Small MUD - 5 User License                     S181102:0656AO-WIN
      Friedrich-Alexander-Universitaet Erlangen-Nurnberg, Chair DC12906
      License for teaching and research at degree granting institutions


**** FILE SUMMARY

Input      C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.gms
Output     C:\Users\ba62very\MyGit\risk-aversion\GAMS\model-risk-aversion.lst

**** USER ERROR(S) ENCOUNTERED
